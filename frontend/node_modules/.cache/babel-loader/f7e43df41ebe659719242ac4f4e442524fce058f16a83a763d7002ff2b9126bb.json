{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconst api = axios.create({\n  baseURL: API_BASE_URL\n});\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\nconst mockProducts = [{\n  _id: '1',\n  name: \"Premium Irish Potatoes\",\n  description: \"Fresh, high-quality Irish potatoes from Jos Plateau. Perfect for cooking and frying.\",\n  price: 15000,\n  category: \"fresh\",\n  weight: \"50kg\",\n  stock: 100,\n  images: [],\n  origin: 'Jos Plateau',\n  bulkPricing: [{\n    minQuantity: 5,\n    discount: 5\n  }, {\n    minQuantity: 10,\n    discount: 10\n  }]\n}, {\n  _id: '2',\n  name: \"Small Irish Potatoes\",\n  description: \"Perfect size for home cooking. Fresh from Jos farms.\",\n  price: 8000,\n  category: \"fresh\",\n  weight: \"25kg\",\n  stock: 150,\n  images: [],\n  origin: 'Jos Plateau',\n  bulkPricing: [{\n    minQuantity: 10,\n    discount: 8\n  }]\n}, {\n  _id: '3',\n  name: \"Irish Potato Seeds\",\n  description: \"High-quality potato seeds for farming. Certified variety.\",\n  price: 25000,\n  category: \"seeds\",\n  weight: \"10kg\",\n  stock: 50,\n  images: [],\n  origin: 'Jos Plateau',\n  bulkPricing: [{\n    minQuantity: 3,\n    discount: 15\n  }]\n}, {\n  _id: '4',\n  name: \"Washed Irish Potatoes\",\n  description: \"Cleaned and ready-to-cook Irish potatoes.\",\n  price: 16000,\n  category: \"fresh\",\n  weight: \"50kg\",\n  stock: 80,\n  images: [],\n  origin: 'Jos Plateau',\n  bulkPricing: []\n}, {\n  _id: '5',\n  name: \"Processed Potato Flour\",\n  description: \"Finely ground potato flour for various culinary uses.\",\n  price: 5000,\n  category: \"processed\",\n  weight: \"5kg\",\n  stock: 200,\n  images: [],\n  origin: 'Jos Plateau',\n  bulkPricing: []\n}];\nexport const authAPI = {\n  register: data => api.post('/auth/register', data),\n  login: data => api.post('/auth/login', data)\n};\nexport const productsAPI = {\n  getProducts: async params => {\n    // Simulate API call delay\n    await new Promise(resolve => setTimeout(resolve, 500));\n    let filteredProducts = [...mockProducts];\n    if (params.search) {\n      filteredProducts = filteredProducts.filter(product => product.name.toLowerCase().includes(params.search.toLowerCase()));\n    }\n    if (params.category) {\n      filteredProducts = filteredProducts.filter(product => product.category === params.category);\n    }\n    const page = params.page || 1;\n    const limit = 12; // Assuming a fixed limit for now\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n    const paginatedProducts = filteredProducts.slice(startIndex, endIndex);\n    return {\n      data: {\n        products: paginatedProducts,\n        total: filteredProducts.length,\n        totalPages: Math.ceil(filteredProducts.length / limit),\n        currentPage: page\n      }\n    };\n  },\n  getProduct: id => api.get(`/products/${id}`)\n};\nexport const ordersAPI = {\n  createOrder: data => api.post('/orders', data),\n  getOrder: id => api.get(`/orders/${id}`)\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","mockProducts","_id","name","description","price","category","weight","stock","images","origin","bulkPricing","minQuantity","discount","authAPI","register","data","post","login","productsAPI","getProducts","params","Promise","resolve","setTimeout","filteredProducts","search","filter","product","toLowerCase","includes","page","limit","startIndex","endIndex","paginatedProducts","slice","products","total","length","totalPages","Math","ceil","currentPage","getProduct","id","get","ordersAPI","createOrder","getOrder"],"sources":["/home/jaja/Desktop/irish-potatoes/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { Product } from '../types';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\nconst mockProducts: Product[] = [\n  {\n    _id: '1',\n    name: \"Premium Irish Potatoes\",\n    description: \"Fresh, high-quality Irish potatoes from Jos Plateau. Perfect for cooking and frying.\",\n    price: 15000,\n    category: \"fresh\",\n    weight: \"50kg\",\n    stock: 100,\n    images: [],\n    origin: 'Jos Plateau',\n    bulkPricing: [\n      { minQuantity: 5, discount: 5 },\n      { minQuantity: 10, discount: 10 }\n    ]\n  },\n  {\n    _id: '2',\n    name: \"Small Irish Potatoes\",\n    description: \"Perfect size for home cooking. Fresh from Jos farms.\",\n    price: 8000,\n    category: \"fresh\",\n    weight: \"25kg\",\n    stock: 150,\n    images: [],\n    origin: 'Jos Plateau',\n    bulkPricing: [\n      { minQuantity: 10, discount: 8 }\n    ]\n  },\n  {\n    _id: '3',\n    name: \"Irish Potato Seeds\",\n    description: \"High-quality potato seeds for farming. Certified variety.\",\n    price: 25000,\n    category: \"seeds\",\n    weight: \"10kg\",\n    stock: 50,\n    images: [],\n    origin: 'Jos Plateau',\n    bulkPricing: [\n      { minQuantity: 3, discount: 15 }\n    ]\n  },\n  {\n    _id: '4',\n    name: \"Washed Irish Potatoes\",\n    description: \"Cleaned and ready-to-cook Irish potatoes.\",\n    price: 16000,\n    category: \"fresh\",\n    weight: \"50kg\",\n    stock: 80,\n    images: [],\n    origin: 'Jos Plateau',\n    bulkPricing: []\n  },\n  {\n    _id: '5',\n    name: \"Processed Potato Flour\",\n    description: \"Finely ground potato flour for various culinary uses.\",\n    price: 5000,\n    category: \"processed\",\n    weight: \"5kg\",\n    stock: 200,\n    images: [],\n    origin: 'Jos Plateau',\n    bulkPricing: []\n  }\n];\n\nexport const authAPI = {\n  register: (data: any) => api.post('/auth/register', data),\n  login: (data: any) => api.post('/auth/login', data),\n};\n\nexport const productsAPI = {\n  getProducts: async (params?: any) => {\n    // Simulate API call delay\n    await new Promise(resolve => setTimeout(resolve, 500)); \n    \n    let filteredProducts = [...mockProducts];\n\n    if (params.search) {\n      filteredProducts = filteredProducts.filter(product =>\n        product.name.toLowerCase().includes(params.search.toLowerCase())\n      );\n    }\n\n    if (params.category) {\n      filteredProducts = filteredProducts.filter(product =>\n        product.category === params.category\n      );\n    }\n\n    const page = params.page || 1;\n    const limit = 12; // Assuming a fixed limit for now\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n\n    const paginatedProducts = filteredProducts.slice(startIndex, endIndex);\n\n    return {\n      data: {\n        products: paginatedProducts,\n        total: filteredProducts.length,\n        totalPages: Math.ceil(filteredProducts.length / limit),\n        currentPage: page,\n      }\n    };\n  },\n  getProduct: (id: string) => api.get(`/products/${id}`),\n};\n\nexport const ordersAPI = {\n  createOrder: (data: any) => api.post('/orders', data),\n  getOrder: (id: string) => api.get(`/orders/${id}`),\n};\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAEjF,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EACvBC,OAAO,EAAEN;AACX,CAAC,CAAC;AAEFI,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,CAAC;AAEF,MAAMM,YAAuB,GAAG,CAC9B;EACEC,GAAG,EAAE,GAAG;EACRC,IAAI,EAAE,wBAAwB;EAC9BC,WAAW,EAAE,sFAAsF;EACnGC,KAAK,EAAE,KAAK;EACZC,QAAQ,EAAE,OAAO;EACjBC,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE,GAAG;EACVC,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE,aAAa;EACrBC,WAAW,EAAE,CACX;IAAEC,WAAW,EAAE,CAAC;IAAEC,QAAQ,EAAE;EAAE,CAAC,EAC/B;IAAED,WAAW,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAG,CAAC;AAErC,CAAC,EACD;EACEX,GAAG,EAAE,GAAG;EACRC,IAAI,EAAE,sBAAsB;EAC5BC,WAAW,EAAE,sDAAsD;EACnEC,KAAK,EAAE,IAAI;EACXC,QAAQ,EAAE,OAAO;EACjBC,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE,GAAG;EACVC,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE,aAAa;EACrBC,WAAW,EAAE,CACX;IAAEC,WAAW,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAE,CAAC;AAEpC,CAAC,EACD;EACEX,GAAG,EAAE,GAAG;EACRC,IAAI,EAAE,oBAAoB;EAC1BC,WAAW,EAAE,2DAA2D;EACxEC,KAAK,EAAE,KAAK;EACZC,QAAQ,EAAE,OAAO;EACjBC,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE,EAAE;EACTC,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE,aAAa;EACrBC,WAAW,EAAE,CACX;IAAEC,WAAW,EAAE,CAAC;IAAEC,QAAQ,EAAE;EAAG,CAAC;AAEpC,CAAC,EACD;EACEX,GAAG,EAAE,GAAG;EACRC,IAAI,EAAE,uBAAuB;EAC7BC,WAAW,EAAE,2CAA2C;EACxDC,KAAK,EAAE,KAAK;EACZC,QAAQ,EAAE,OAAO;EACjBC,MAAM,EAAE,MAAM;EACdC,KAAK,EAAE,EAAE;EACTC,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE,aAAa;EACrBC,WAAW,EAAE;AACf,CAAC,EACD;EACET,GAAG,EAAE,GAAG;EACRC,IAAI,EAAE,wBAAwB;EAC9BC,WAAW,EAAE,uDAAuD;EACpEC,KAAK,EAAE,IAAI;EACXC,QAAQ,EAAE,WAAW;EACrBC,MAAM,EAAE,KAAK;EACbC,KAAK,EAAE,GAAG;EACVC,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE,aAAa;EACrBC,WAAW,EAAE;AACf,CAAC,CACF;AAED,OAAO,MAAMG,OAAO,GAAG;EACrBC,QAAQ,EAAGC,IAAS,IAAK3B,GAAG,CAAC4B,IAAI,CAAC,gBAAgB,EAAED,IAAI,CAAC;EACzDE,KAAK,EAAGF,IAAS,IAAK3B,GAAG,CAAC4B,IAAI,CAAC,aAAa,EAAED,IAAI;AACpD,CAAC;AAED,OAAO,MAAMG,WAAW,GAAG;EACzBC,WAAW,EAAE,MAAOC,MAAY,IAAK;IACnC;IACA,MAAM,IAAIC,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,GAAG,CAAC,CAAC;IAEtD,IAAIE,gBAAgB,GAAG,CAAC,GAAGxB,YAAY,CAAC;IAExC,IAAIoB,MAAM,CAACK,MAAM,EAAE;MACjBD,gBAAgB,GAAGA,gBAAgB,CAACE,MAAM,CAACC,OAAO,IAChDA,OAAO,CAACzB,IAAI,CAAC0B,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACT,MAAM,CAACK,MAAM,CAACG,WAAW,CAAC,CAAC,CACjE,CAAC;IACH;IAEA,IAAIR,MAAM,CAACf,QAAQ,EAAE;MACnBmB,gBAAgB,GAAGA,gBAAgB,CAACE,MAAM,CAACC,OAAO,IAChDA,OAAO,CAACtB,QAAQ,KAAKe,MAAM,CAACf,QAC9B,CAAC;IACH;IAEA,MAAMyB,IAAI,GAAGV,MAAM,CAACU,IAAI,IAAI,CAAC;IAC7B,MAAMC,KAAK,GAAG,EAAE,CAAC,CAAC;IAClB,MAAMC,UAAU,GAAG,CAACF,IAAI,GAAG,CAAC,IAAIC,KAAK;IACrC,MAAME,QAAQ,GAAGH,IAAI,GAAGC,KAAK;IAE7B,MAAMG,iBAAiB,GAAGV,gBAAgB,CAACW,KAAK,CAACH,UAAU,EAAEC,QAAQ,CAAC;IAEtE,OAAO;MACLlB,IAAI,EAAE;QACJqB,QAAQ,EAAEF,iBAAiB;QAC3BG,KAAK,EAAEb,gBAAgB,CAACc,MAAM;QAC9BC,UAAU,EAAEC,IAAI,CAACC,IAAI,CAACjB,gBAAgB,CAACc,MAAM,GAAGP,KAAK,CAAC;QACtDW,WAAW,EAAEZ;MACf;IACF,CAAC;EACH,CAAC;EACDa,UAAU,EAAGC,EAAU,IAAKxD,GAAG,CAACyD,GAAG,CAAC,aAAaD,EAAE,EAAE;AACvD,CAAC;AAED,OAAO,MAAME,SAAS,GAAG;EACvBC,WAAW,EAAGhC,IAAS,IAAK3B,GAAG,CAAC4B,IAAI,CAAC,SAAS,EAAED,IAAI,CAAC;EACrDiC,QAAQ,EAAGJ,EAAU,IAAKxD,GAAG,CAACyD,GAAG,CAAC,WAAWD,EAAE,EAAE;AACnD,CAAC;AAED,eAAexD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}