{"ast":null,"code":"import _objectSpread from\"/home/jaja/Desktop/irish-potatoes/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useQuery}from'@tanstack/react-query';import{productsAPI}from'../services/api';import ProductCard from'../components/ProductCard';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Products=()=>{const[filters,setFilters]=useState({category:'',search:'',page:1});const{data,isLoading,error}=useQuery({queryKey:['products',filters],queryFn:()=>productsAPI.getProducts(filters)});const handleFilterChange=(key,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value,page:1}));};if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Error loading products\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-8\",children:\"Our Products\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search products...\",className:\"border rounded px-4 py-2 flex-1 min-w-64\",value:filters.search,onChange:e=>handleFilterChange('search',e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{className:\"border rounded px-4 py-2\",value:filters.category,onChange:e=>handleFilterChange('category',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fresh\",children:\"Fresh\"}),/*#__PURE__*/_jsx(\"option\",{value:\"processed\",children:\"Processed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"seeds\",children:\"Seeds\"})]})]}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading products...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:data===null||data===void 0?void 0:data.data.products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product._id))}),(data===null||data===void 0?void 0:data.data)&&data.data.totalPages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-8 space-x-2\",children:Array.from({length:data.data.totalPages},(_,i)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{page:i+1})),className:\"px-4 py-2 rounded \".concat(filters.page===i+1?'bg-primary-600 text-white':'bg-gray-200 hover:bg-gray-300'),children:i+1},i+1))})]})]});};export default Products;","map":{"version":3,"names":["React","useState","useQuery","productsAPI","ProductCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Products","filters","setFilters","category","search","page","data","isLoading","error","queryKey","queryFn","getProducts","handleFilterChange","key","value","prev","_objectSpread","className","children","type","placeholder","onChange","e","target","products","map","product","_id","totalPages","Array","from","length","_","i","onClick","concat"],"sources":["/home/jaja/Desktop/irish-potatoes/frontend/src/pages/Products.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { productsAPI } from '../services/api';\nimport ProductCard from '../components/ProductCard';\n\nconst Products: React.FC = () => {\n  const [filters, setFilters] = useState({\n    category: '',\n    search: '',\n    page: 1\n  });\n\n  const { data, isLoading, error } = useQuery({\n    queryKey: ['products', filters],\n    queryFn: () => productsAPI.getProducts(filters)\n  });\n\n  const handleFilterChange = (key: string, value: string) => {\n    setFilters(prev => ({ ...prev, [key]: value, page: 1 }));\n  };\n\n  if (error) return <div className=\"text-center py-8\">Error loading products</div>;\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"text-3xl font-bold mb-8\">Our Products</h1>\n      \n      {/* Filters */}\n      <div className=\"mb-8 flex flex-wrap gap-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Search products...\"\n          className=\"border rounded px-4 py-2 flex-1 min-w-64\"\n          value={filters.search}\n          onChange={(e) => handleFilterChange('search', e.target.value)}\n        />\n        <select\n          className=\"border rounded px-4 py-2\"\n          value={filters.category}\n          onChange={(e) => handleFilterChange('category', e.target.value)}\n        >\n          <option value=\"\">All Categories</option>\n          <option value=\"fresh\">Fresh</option>\n          <option value=\"processed\">Processed</option>\n          <option value=\"seeds\">Seeds</option>\n        </select>\n      </div>\n\n      {/* Products Grid */}\n      {isLoading ? (\n        <div className=\"text-center py-8\">Loading products...</div>\n      ) : (\n        <>\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {data?.data.products.map((product: any) => (\n              <ProductCard key={product._id} product={product} />\n            ))}\n          </div>\n          \n          {/* Pagination */}\n          {data?.data && data.data.totalPages > 1 && (\n            <div className=\"flex justify-center mt-8 space-x-2\">\n              {Array.from({ length: data.data.totalPages }, (_, i) => (\n                <button\n                  key={i + 1}\n                  onClick={() => setFilters(prev => ({ ...prev, page: i + 1 }))}\n                  className={`px-4 py-2 rounded ${\n                    filters.page === i + 1\n                      ? 'bg-primary-600 text-white'\n                      : 'bg-gray-200 hover:bg-gray-300'\n                  }`}\n                >\n                  {i + 1}\n                </button>\n              ))}\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Products;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}