{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';const api=axios.create({baseURL:API_BASE_URL});api.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;});const mockProducts=[{_id:'1',name:\"Premium Irish Potatoes\",description:\"Fresh, high-quality Irish potatoes from Jos Plateau. Perfect for cooking and frying.\",price:15000,category:\"fresh\",weight:\"50kg\",stock:100,images:[],origin:'Jos Plateau',bulkPricing:[{minQuantity:5,discount:5},{minQuantity:10,discount:10}]},{_id:'2',name:\"Small Irish Potatoes\",description:\"Perfect size for home cooking. Fresh from Jos farms.\",price:8000,category:\"fresh\",weight:\"25kg\",stock:150,images:[],origin:'Jos Plateau',bulkPricing:[{minQuantity:10,discount:8}]},{_id:'3',name:\"Irish Potato Seeds\",description:\"High-quality potato seeds for farming. Certified variety.\",price:25000,category:\"seeds\",weight:\"10kg\",stock:50,images:[],origin:'Jos Plateau',bulkPricing:[{minQuantity:3,discount:15}]},{_id:'4',name:\"Washed Irish Potatoes\",description:\"Cleaned and ready-to-cook Irish potatoes.\",price:16000,category:\"fresh\",weight:\"50kg\",stock:80,images:[],origin:'Jos Plateau',bulkPricing:[]},{_id:'5',name:\"Processed Potato Flour\",description:\"Finely ground potato flour for various culinary uses.\",price:5000,category:\"processed\",weight:\"5kg\",stock:200,images:[],origin:'Jos Plateau',bulkPricing:[]}];export const authAPI={register:data=>api.post('/auth/register',data),login:data=>api.post('/auth/login',data)};export const productsAPI={getProducts:async params=>{// Simulate API call delay\nawait new Promise(resolve=>setTimeout(resolve,500));let filteredProducts=[...mockProducts];if(params.search){filteredProducts=filteredProducts.filter(product=>product.name.toLowerCase().includes(params.search.toLowerCase()));}if(params.category){filteredProducts=filteredProducts.filter(product=>product.category===params.category);}const page=params.page||1;const limit=12;// Assuming a fixed limit for now\nconst startIndex=(page-1)*limit;const endIndex=page*limit;const paginatedProducts=filteredProducts.slice(startIndex,endIndex);return{data:{products:paginatedProducts,total:filteredProducts.length,totalPages:Math.ceil(filteredProducts.length/limit),currentPage:page}};},getProduct:id=>api.get(\"/products/\".concat(id))};export const ordersAPI={createOrder:data=>api.post('/orders',data),getOrder:id=>api.get(\"/orders/\".concat(id))};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","concat","mockProducts","_id","name","description","price","category","weight","stock","images","origin","bulkPricing","minQuantity","discount","authAPI","register","data","post","login","productsAPI","getProducts","params","Promise","resolve","setTimeout","filteredProducts","search","filter","product","toLowerCase","includes","page","limit","startIndex","endIndex","paginatedProducts","slice","products","total","length","totalPages","Math","ceil","currentPage","getProduct","id","get","ordersAPI","createOrder","getOrder"],"sources":["/home/jaja/Desktop/irish-potatoes/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\nimport { Product } from '../types';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n});\n\napi.interceptors.request.use((config) => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\nconst mockProducts: Product[] = [\n  {\n    _id: '1',\n    name: \"Premium Irish Potatoes\",\n    description: \"Fresh, high-quality Irish potatoes from Jos Plateau. Perfect for cooking and frying.\",\n    price: 15000,\n    category: \"fresh\",\n    weight: \"50kg\",\n    stock: 100,\n    images: [],\n    origin: 'Jos Plateau',\n    bulkPricing: [\n      { minQuantity: 5, discount: 5 },\n      { minQuantity: 10, discount: 10 }\n    ]\n  },\n  {\n    _id: '2',\n    name: \"Small Irish Potatoes\",\n    description: \"Perfect size for home cooking. Fresh from Jos farms.\",\n    price: 8000,\n    category: \"fresh\",\n    weight: \"25kg\",\n    stock: 150,\n    images: [],\n    origin: 'Jos Plateau',\n    bulkPricing: [\n      { minQuantity: 10, discount: 8 }\n    ]\n  },\n  {\n    _id: '3',\n    name: \"Irish Potato Seeds\",\n    description: \"High-quality potato seeds for farming. Certified variety.\",\n    price: 25000,\n    category: \"seeds\",\n    weight: \"10kg\",\n    stock: 50,\n    images: [],\n    origin: 'Jos Plateau',\n    bulkPricing: [\n      { minQuantity: 3, discount: 15 }\n    ]\n  },\n  {\n    _id: '4',\n    name: \"Washed Irish Potatoes\",\n    description: \"Cleaned and ready-to-cook Irish potatoes.\",\n    price: 16000,\n    category: \"fresh\",\n    weight: \"50kg\",\n    stock: 80,\n    images: [],\n    origin: 'Jos Plateau',\n    bulkPricing: []\n  },\n  {\n    _id: '5',\n    name: \"Processed Potato Flour\",\n    description: \"Finely ground potato flour for various culinary uses.\",\n    price: 5000,\n    category: \"processed\",\n    weight: \"5kg\",\n    stock: 200,\n    images: [],\n    origin: 'Jos Plateau',\n    bulkPricing: []\n  }\n];\n\nexport const authAPI = {\n  register: (data: any) => api.post('/auth/register', data),\n  login: (data: any) => api.post('/auth/login', data),\n};\n\nexport const productsAPI = {\n  getProducts: async (params?: any) => {\n    // Simulate API call delay\n    await new Promise(resolve => setTimeout(resolve, 500)); \n    \n    let filteredProducts = [...mockProducts];\n\n    if (params.search) {\n      filteredProducts = filteredProducts.filter(product =>\n        product.name.toLowerCase().includes(params.search.toLowerCase())\n      );\n    }\n\n    if (params.category) {\n      filteredProducts = filteredProducts.filter(product =>\n        product.category === params.category\n      );\n    }\n\n    const page = params.page || 1;\n    const limit = 12; // Assuming a fixed limit for now\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n\n    const paginatedProducts = filteredProducts.slice(startIndex, endIndex);\n\n    return {\n      data: {\n        products: paginatedProducts,\n        total: filteredProducts.length,\n        totalPages: Math.ceil(filteredProducts.length / limit),\n        currentPage: page,\n      }\n    };\n  },\n  getProduct: (id: string) => api.get(`/products/${id}`),\n};\n\nexport const ordersAPI = {\n  createOrder: (data: any) => api.post('/orders', data),\n  getOrder: (id: string) => api.get(`/orders/${id}`),\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}