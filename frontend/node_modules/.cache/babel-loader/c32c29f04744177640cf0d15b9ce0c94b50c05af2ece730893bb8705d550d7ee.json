{"ast":null,"code":"import _objectSpread from\"/home/jaja/Desktop/irish-potatoes/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useAuth}from'../context/AuthContext';import{useQuery}from'@tanstack/react-query';import{ordersAPI,authAPI}from'../services/api';import{Link}from'react-router-dom';import{AlertCircle,User as UserIcon,Camera,Upload,Trash2}from'lucide-react';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserAccount=()=>{const{user,loading,login}=useAuth();// Get login to update user in context\nconst[selectedFile,setSelectedFile]=useState(null);const[previewUrl,setPreviewUrl]=useState(null);const[isCameraActive,setIsCameraActive]=useState(false);const videoRef=useRef(null);const canvasRef=useRef(null);const[isUploadingAvatar,setIsUploadingAvatar]=useState(false);useEffect(()=>{// Set initial preview if user already has an avatar\nif(user!==null&&user!==void 0&&user.avatar&&!previewUrl&&!selectedFile){setPreviewUrl(user.avatar);}},[user,previewUrl,selectedFile]);useEffect(()=>{// Clean up camera stream when component unmounts or camera is deactivated\nreturn()=>{if(videoRef.current&&videoRef.current.srcObject){videoRef.current.srcObject.getTracks().forEach(track=>track.stop());}};},[]);const{data:orders,isLoading:isLoadingOrders,error:ordersError}=useQuery({queryKey:['userOrders',user===null||user===void 0?void 0:user._id],queryFn:ordersAPI.getUsersOrders,enabled:!!user});const handleFileChange=event=>{if(event.target.files&&event.target.files[0]){const file=event.target.files[0];setSelectedFile(file);setPreviewUrl(URL.createObjectURL(file));if(isCameraActive){handleCameraToggle();// Turn off camera if a file is selected\n}}else{setSelectedFile(null);setPreviewUrl((user===null||user===void 0?void 0:user.avatar)||null);}};const handleCameraToggle=async()=>{if(isCameraActive){// Stop camera\nif(videoRef.current&&videoRef.current.srcObject){videoRef.current.srcObject.getTracks().forEach(track=>track.stop());videoRef.current.srcObject=null;}setIsCameraActive(false);}else{// Start camera\ntry{const stream=await navigator.mediaDevices.getUserMedia({video:true});if(videoRef.current){videoRef.current.srcObject=stream;videoRef.current.play();}setIsCameraActive(true);setSelectedFile(null);// Clear selected file when camera is active\nsetPreviewUrl(null);// Clear file preview\n}catch(err){toast.error('Could not access camera. Please check permissions.');console.error('Error accessing camera:',err);}}};const capturePhoto=()=>{if(videoRef.current&&canvasRef.current){const context=canvasRef.current.getContext('2d');if(context){canvasRef.current.width=videoRef.current.videoWidth;canvasRef.current.height=videoRef.current.videoHeight;context.drawImage(videoRef.current,0,0,videoRef.current.videoWidth,videoRef.current.videoHeight);canvasRef.current.toBlob(async blob=>{if(blob){const capturedFile=new File([blob],\"avatar.png\",{type:\"image/png\"});setSelectedFile(capturedFile);setPreviewUrl(URL.createObjectURL(capturedFile));handleCameraToggle();// Turn off camera after capturing\n}},'image/png');}}};const handleUploadAvatar=async()=>{if(!(user!==null&&user!==void 0&&user._id)){toast.error('User not authenticated.');return;}if(!selectedFile){toast.error('Please select a file or capture a photo first.');return;}setIsUploadingAvatar(true);try{const formData=new FormData();formData.append('avatar',selectedFile);const response=await authAPI.uploadAvatar(formData);// This is a new API function\n// Update user in context with new avatar URL\nif(response.data.avatarUrl){const updatedUser=_objectSpread(_objectSpread({},user),{},{avatar:response.data.avatarUrl});login(localStorage.getItem('token')||'',updatedUser);// Re-login to update context and local storage\n}setSelectedFile(null);// Clear selected file after successful upload\ntoast.success('Avatar uploaded successfully!');}catch(err){var _err$response,_err$response$data;const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to upload avatar.';toast.error(errorMessage);setPreviewUrl((user===null||user===void 0?void 0:user.avatar)||null);// Revert preview on error\n}finally{setIsUploadingAvatar(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-lg\",children:\"Loading user data...\"});}if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-lg text-red-600\",children:\"Please log in to view your account.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-gray-800 mb-8 text-center\",children:\"My Account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-1 bg-white p-6 rounded-lg shadow-md flex flex-col items-center\",children:[isCameraActive?/*#__PURE__*/_jsx(\"video\",{ref:videoRef,className:\"w-32 h-32 rounded-full object-cover mb-4 border-2 border-green-500\",autoPlay:true,playsInline:true}):previewUrl?/*#__PURE__*/_jsx(\"img\",{src:previewUrl,alt:\"User Avatar Preview\",className:\"w-32 h-32 rounded-full object-cover mb-4 border-2 border-green-500\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center mb-4 border-2 border-green-500\",children:/*#__PURE__*/_jsx(UserIcon,{className:\"w-16 h-16 text-gray-500\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-700 mb-4\",children:user.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"avatarFile\",accept:\"image/*\",className:\"hidden\",onChange:handleFileChange}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"avatarFile\",className:\"w-full cursor-pointer bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition flex items-center justify-center\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-5 h-5 mr-2\"}),\" Choose File\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCameraToggle,className:\"w-full py-2 rounded-lg transition flex items-center justify-center \".concat(isCameraActive?'bg-red-500 hover:bg-red-600 text-white':'bg-purple-500 hover:bg-purple-600 text-white'),children:[/*#__PURE__*/_jsx(Camera,{className:\"w-5 h-5 mr-2\"}),\" \",isCameraActive?'Stop Camera':'Enable Camera']}),isCameraActive&&/*#__PURE__*/_jsxs(\"button\",{onClick:capturePhoto,className:\"w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition flex items-center justify-center\",children:[/*#__PURE__*/_jsx(Camera,{className:\"w-5 h-5 mr-2\"}),\" Capture Photo\"]}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{display:'none'}}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:handleUploadAvatar,disabled:isUploadingAvatar||!selectedFile,className:\"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\",children:isUploadingAvatar?'Uploading...':'Upload Avatar'}),user.avatar&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{/* Implement remove avatar logic */toast('Remove avatar not implemented yet.');},className:\"w-full bg-gray-400 text-white py-2 rounded-lg hover:bg-gray-500 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-5 h-5 mr-2\"}),\" Remove Avatar\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-700 mb-4\",children:\"Profile Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",user.phone]}),user.address&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address:\"}),\" \",user.address.street,\", \",user.address.state,user.address.city&&\", \".concat(user.address.city),user.address.zipCode&&\", \".concat(user.address.zipCode)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Role:\"}),\" \",user.role]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-3 bg-white p-6 rounded-lg shadow-md mt-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-700 mb-4\",children:\"Order History\"}),isLoadingOrders?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4\",children:\"Loading orders...\"}):ordersError?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-4 text-red-600 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 mr-2\"}),\" Error loading orders.\"]}):orders&&orders.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[\"Order ID: \",order._id.substring(0,8),\"...\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(order.status==='pending'?'bg-yellow-100 text-yellow-800':order.status==='processing'?'bg-blue-100 text-blue-800':order.status==='shipped'?'bg-indigo-100 text-indigo-800':order.status==='delivered'?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:order.status})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Total: \\u20A6\",order.totalAmount.toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm\",children:[\"Ordered on: \",new Date(order.createdAt).toLocaleDateString()]}),/*#__PURE__*/_jsx(Link,{to:\"/order-tracking/\".concat(order._id),className:\"text-blue-600 hover:underline text-sm mt-2 block\",children:\"View Details\"})]},order._id))}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-600\",children:\"No orders found.\"})]})]})]});};export default UserAccount;","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","useQuery","ordersAPI","authAPI","Link","AlertCircle","User","UserIcon","Camera","Upload","Trash2","toast","jsx","_jsx","jsxs","_jsxs","UserAccount","user","loading","login","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","isCameraActive","setIsCameraActive","videoRef","canvasRef","isUploadingAvatar","setIsUploadingAvatar","avatar","current","srcObject","getTracks","forEach","track","stop","data","orders","isLoading","isLoadingOrders","error","ordersError","queryKey","_id","queryFn","getUsersOrders","enabled","handleFileChange","event","target","files","file","URL","createObjectURL","handleCameraToggle","stream","navigator","mediaDevices","getUserMedia","video","play","err","console","capturePhoto","context","getContext","width","videoWidth","height","videoHeight","drawImage","toBlob","blob","capturedFile","File","type","handleUploadAvatar","formData","FormData","append","response","uploadAvatar","avatarUrl","updatedUser","_objectSpread","localStorage","getItem","success","_err$response","_err$response$data","errorMessage","message","className","children","ref","autoPlay","playsInline","src","alt","name","id","accept","onChange","htmlFor","onClick","concat","style","display","disabled","email","phone","address","street","state","city","zipCode","role","length","map","order","substring","status","totalAmount","toLocaleString","Date","createdAt","toLocaleDateString","to"],"sources":["/home/jaja/Desktop/irish-potatoes/frontend/src/pages/UserAccount.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useQuery } from '@tanstack/react-query';\nimport { ordersAPI, authAPI } from '../services/api';\nimport { Link } from 'react-router-dom';\nimport { AlertCircle, User as UserIcon, Camera, Upload, Trash2 } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nconst UserAccount: React.FC = () => {\n  const { user, loading, login } = useAuth(); // Get login to update user in context\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const [isCameraActive, setIsCameraActive] = useState(false);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [isUploadingAvatar, setIsUploadingAvatar] = useState(false);\n\n  useEffect(() => {\n    // Set initial preview if user already has an avatar\n    if (user?.avatar && !previewUrl && !selectedFile) {\n      setPreviewUrl(user.avatar);\n    }\n  }, [user, previewUrl, selectedFile]);\n\n  useEffect(() => {\n    // Clean up camera stream when component unmounts or camera is deactivated\n    return () => {\n      if (videoRef.current && videoRef.current.srcObject) {\n        (videoRef.current.srcObject as MediaStream).getTracks().forEach(track => track.stop());\n      }\n    };\n  }, []);\n\n  const { data: orders, isLoading: isLoadingOrders, error: ordersError } = useQuery({\n    queryKey: ['userOrders', user?._id],\n    queryFn: ordersAPI.getUsersOrders,\n    enabled: !!user,\n  });\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files[0]) {\n      const file = event.target.files[0];\n      setSelectedFile(file);\n      setPreviewUrl(URL.createObjectURL(file));\n      if (isCameraActive) {\n        handleCameraToggle(); // Turn off camera if a file is selected\n      }\n    } else {\n      setSelectedFile(null);\n      setPreviewUrl(user?.avatar || null);\n    }\n  };\n\n  const handleCameraToggle = async () => {\n    if (isCameraActive) {\n      // Stop camera\n      if (videoRef.current && videoRef.current.srcObject) {\n        (videoRef.current.srcObject as MediaStream).getTracks().forEach(track => track.stop());\n        videoRef.current.srcObject = null;\n      }\n      setIsCameraActive(false);\n    } else {\n      // Start camera\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          videoRef.current.play();\n        }\n        setIsCameraActive(true);\n        setSelectedFile(null); // Clear selected file when camera is active\n        setPreviewUrl(null); // Clear file preview\n      } catch (err) {\n        toast.error('Could not access camera. Please check permissions.');\n        console.error('Error accessing camera:', err);\n      }\n    }\n  };\n\n  const capturePhoto = () => {\n    if (videoRef.current && canvasRef.current) {\n      const context = canvasRef.current.getContext('2d');\n      if (context) {\n        canvasRef.current.width = videoRef.current.videoWidth;\n        canvasRef.current.height = videoRef.current.videoHeight;\n        context.drawImage(videoRef.current, 0, 0, videoRef.current.videoWidth, videoRef.current.videoHeight);\n        canvasRef.current.toBlob(async (blob) => {\n          if (blob) {\n            const capturedFile = new File([blob], \"avatar.png\", { type: \"image/png\" });\n            setSelectedFile(capturedFile);\n            setPreviewUrl(URL.createObjectURL(capturedFile));\n            handleCameraToggle(); // Turn off camera after capturing\n          }\n        }, 'image/png');\n      }\n    }\n  };\n\n  const handleUploadAvatar = async () => {\n    if (!user?._id) {\n      toast.error('User not authenticated.');\n      return;\n    }\n    if (!selectedFile) {\n      toast.error('Please select a file or capture a photo first.');\n      return;\n    }\n\n    setIsUploadingAvatar(true);\n    try {\n      const formData = new FormData();\n      formData.append('avatar', selectedFile);\n\n      const response = await authAPI.uploadAvatar(formData); // This is a new API function\n\n      // Update user in context with new avatar URL\n      if (response.data.avatarUrl) {\n        const updatedUser = { ...user, avatar: response.data.avatarUrl };\n        login(localStorage.getItem('token') || '', updatedUser); // Re-login to update context and local storage\n      }\n      setSelectedFile(null); // Clear selected file after successful upload\n      toast.success('Avatar uploaded successfully!');\n    } catch (err: any) {\n      const errorMessage = err.response?.data?.message || 'Failed to upload avatar.';\n      toast.error(errorMessage);\n      setPreviewUrl(user?.avatar || null); // Revert preview on error\n    } finally {\n      setIsUploadingAvatar(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"text-center py-8 text-lg\">Loading user data...</div>;\n  }\n\n  if (!user) {\n    return <div className=\"text-center py-8 text-lg text-red-600\">Please log in to view your account.</div>;\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"text-4xl font-bold text-gray-800 mb-8 text-center\">My Account</h1>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n        {/* Avatar Upload Section */}\n        <div className=\"md:col-span-1 bg-white p-6 rounded-lg shadow-md flex flex-col items-center\">\n          {isCameraActive ? (\n            <video ref={videoRef} className=\"w-32 h-32 rounded-full object-cover mb-4 border-2 border-green-500\" autoPlay playsInline></video>\n          ) : previewUrl ? (\n            <img src={previewUrl} alt=\"User Avatar Preview\" className=\"w-32 h-32 rounded-full object-cover mb-4 border-2 border-green-500\" />\n          ) : (\n            <div className=\"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center mb-4 border-2 border-green-500\">\n              <UserIcon className=\"w-16 h-16 text-gray-500\" />\n            </div>\n          )}\n          <h2 className=\"text-xl font-bold text-gray-700 mb-4\">{user.name}</h2>\n          \n          <div className=\"w-full space-y-3\">\n            <input\n              type=\"file\"\n              id=\"avatarFile\"\n              accept=\"image/*\"\n              className=\"hidden\"\n              onChange={handleFileChange}\n            />\n            <label htmlFor=\"avatarFile\" className=\"w-full cursor-pointer bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition flex items-center justify-center\">\n              <Upload className=\"w-5 h-5 mr-2\" /> Choose File\n            </label>\n\n            <button\n              onClick={handleCameraToggle}\n              className={`w-full py-2 rounded-lg transition flex items-center justify-center ${\n                isCameraActive ? 'bg-red-500 hover:bg-red-600 text-white' : 'bg-purple-500 hover:bg-purple-600 text-white'\n              }`}\n            >\n              <Camera className=\"w-5 h-5 mr-2\" /> {isCameraActive ? 'Stop Camera' : 'Enable Camera'}\n            </button>\n\n            {isCameraActive && (\n              <button\n                onClick={capturePhoto}\n                className=\"w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition flex items-center justify-center\"\n              >\n                <Camera className=\"w-5 h-5 mr-2\" /> Capture Photo\n              </button>\n            )}\n            <canvas ref={canvasRef} style={{ display: 'none' }}></canvas> {/* Hidden canvas for photo capture */}\n\n\n            <button\n              onClick={handleUploadAvatar}\n              disabled={isUploadingAvatar || !selectedFile}\n              className=\"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\n            >\n              {isUploadingAvatar ? 'Uploading...' : 'Upload Avatar'}\n            </button>\n\n            {user.avatar && (\n                <button\n                    onClick={() => { /* Implement remove avatar logic */ toast('Remove avatar not implemented yet.'); }}\n                    className=\"w-full bg-gray-400 text-white py-2 rounded-lg hover:bg-gray-500 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\n                >\n                    <Trash2 className=\"w-5 h-5 mr-2\" /> Remove Avatar\n                </button>\n            )}\n\n          </div>\n        </div>\n\n        {/* User Profile Section */}\n        <div className=\"md:col-span-2 bg-white p-6 rounded-lg shadow-md\">\n          <h2 className=\"text-2xl font-bold text-gray-700 mb-4\">Profile Information</h2>\n          <div className=\"space-y-3\">\n            <p className=\"text-gray-600\"><strong>Name:</strong> {user.name}</p>\n            <p className=\"text-gray-600\"><strong>Email:</strong> {user.email}</p>\n            <p className=\"text-gray-600\"><strong>Phone:</strong> {user.phone}</p>\n            {user.address && (\n              <p className=\"text-gray-600\">\n                <strong>Address:</strong> {user.address.street}, {user.address.state}\n                {user.address.city && `, ${user.address.city}`}\n                {user.address.zipCode && `, ${user.address.zipCode}`}\n              </p>\n            )}\n            <p className=\"text-gray-600\"><strong>Role:</strong> {user.role}</p>\n          </div>\n        </div>\n\n        {/* Order History Section */}\n        <div className=\"md:col-span-3 bg-white p-6 rounded-lg shadow-md mt-8\">\n          <h2 className=\"text-2xl font-bold text-gray-700 mb-4\">Order History</h2>\n          {isLoadingOrders ? (\n            <div className=\"text-center py-4\">Loading orders...</div>\n          ) : ordersError ? (\n            <div className=\"text-center py-4 text-red-600 flex items-center justify-center\">\n              <AlertCircle className=\"w-5 h-5 mr-2\" /> Error loading orders.\n            </div>\n          ) : orders && orders.length > 0 ? (\n            <div className=\"space-y-4\">\n              {orders.map((order: any) => (\n                <div key={order._id} className=\"border border-gray-200 rounded-lg p-4\">\n                  <div className=\"flex justify-between items-center mb-2\">\n                    <p className=\"font-semibold\">Order ID: {order._id.substring(0, 8)}...</p>\n                    <p className={`px-2 py-1 rounded-full text-xs font-medium ${\n                        order.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :\n                        order.status === 'processing' ? 'bg-blue-100 text-blue-800' :\n                        order.status === 'shipped' ? 'bg-indigo-100 text-indigo-800' :\n                        order.status === 'delivered' ? 'bg-green-100 text-green-800' :\n                        'bg-gray-100 text-gray-800'\n                      }`}>\n                      {order.status}\n                    </p>\n                  </div>\n                  <p className=\"text-gray-600\">Total: â‚¦{order.totalAmount.toLocaleString()}</p>\n                  <p className=\"text-gray-600 text-sm\">Ordered on: {new Date(order.createdAt).toLocaleDateString()}</p>\n                  <Link to={`/order-tracking/${order._id}`} className=\"text-blue-600 hover:underline text-sm mt-2 block\">\n                    View Details\n                  </Link>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-4 text-gray-600\">No orders found.</div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserAccount;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}