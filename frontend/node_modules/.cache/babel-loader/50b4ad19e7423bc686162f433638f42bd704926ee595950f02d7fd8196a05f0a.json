{"ast":null,"code":"import _objectSpread from\"/home/jaja/Desktop/irish-potatoes/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{useForm}from'react-hook-form';import{Link,useNavigate}from'react-router-dom';import{useMutation}from'@tanstack/react-query';import{authAPI}from'../services/api';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const{register,handleSubmit,formState:{errors}}=useForm();const{login}=useAuth();const navigate=useNavigate();const registerMutation=useMutation({mutationFn:authAPI.register,onSuccess:response=>{login(response.data.token,response.data.user);navigate('/');},onError:error=>{var _error$response,_error$response$data;alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Registration failed');}});const onSubmit=data=>{registerMutation.mutate(data);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full bg-white rounded-lg shadow-md p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-center mb-6\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register('name',{required:'Name is required'})),{},{className:\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"})),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm\",children:errors.name.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\"},register('email',{required:'Email is required'})),{},{className:\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"})),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm\",children:errors.email.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"tel\"},register('phone',{required:'Phone is required'})),{},{className:\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"})),errors.phone&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm\",children:errors.phone.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"password\"},register('password',{required:'Password is required',minLength:{value:6,message:'Password must be at least 6 characters'}})),{},{className:\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"})),errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm\",children:errors.password.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:registerMutation.isPending,className:\"w-full bg-primary-600 text-white py-2 rounded hover:bg-primary-700 disabled:bg-gray-400\",children:registerMutation.isPending?'Registering...':'Register'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-4\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-primary-600 hover:underline\",children:\"Login\"})]})]})});};export default Register;","map":{"version":3,"names":["React","useForm","Link","useNavigate","useMutation","authAPI","useAuth","jsx","_jsx","jsxs","_jsxs","Register","register","handleSubmit","formState","errors","login","navigate","registerMutation","mutationFn","onSuccess","response","data","token","user","onError","error","_error$response","_error$response$data","alert","message","onSubmit","mutate","className","children","_objectSpread","type","required","name","email","phone","minLength","value","password","disabled","isPending","to"],"sources":["/home/jaja/Desktop/irish-potatoes/frontend/src/pages/Register.tsx"],"sourcesContent":["import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useMutation } from '@tanstack/react-query';\nimport { authAPI } from '../services/api';\nimport { useAuth } from '../context/AuthContext';\n\ninterface RegisterForm {\n  name: string;\n  email: string;\n  password: string;\n  phone: string;\n}\n\nconst Register: React.FC = () => {\n  const { register, handleSubmit, formState: { errors } } = useForm<RegisterForm>();\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const registerMutation = useMutation({\n    mutationFn: authAPI.register,\n    onSuccess: (response) => {\n      login(response.data.token, response.data.user);\n      navigate('/');\n    },\n    onError: (error: any) => {\n      alert(error.response?.data?.message || 'Registration failed');\n    }\n  });\n\n  const onSubmit = (data: RegisterForm) => {\n    registerMutation.mutate(data);\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"max-w-md w-full bg-white rounded-lg shadow-md p-8\">\n        <h2 className=\"text-2xl font-bold text-center mb-6\">Register</h2>\n        \n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Full Name</label>\n            <input\n              type=\"text\"\n              {...register('name', { required: 'Name is required' })}\n              className=\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n            />\n            {errors.name && <p className=\"text-red-500 text-sm\">{errors.name.message}</p>}\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Email</label>\n            <input\n              type=\"email\"\n              {...register('email', { required: 'Email is required' })}\n              className=\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n            />\n            {errors.email && <p className=\"text-red-500 text-sm\">{errors.email.message}</p>}\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Phone</label>\n            <input\n              type=\"tel\"\n              {...register('phone', { required: 'Phone is required' })}\n              className=\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n            />\n            {errors.phone && <p className=\"text-red-500 text-sm\">{errors.phone.message}</p>}\n          </div>\n          \n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Password</label>\n            <input\n              type=\"password\"\n              {...register('password', { \n                required: 'Password is required',\n                minLength: { value: 6, message: 'Password must be at least 6 characters' }\n              })}\n              className=\"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500\"\n            />\n            {errors.password && <p className=\"text-red-500 text-sm\">{errors.password.message}</p>}\n          </div>\n          \n          <button\n            type=\"submit\"\n            disabled={registerMutation.isPending}\n            className=\"w-full bg-primary-600 text-white py-2 rounded hover:bg-primary-700 disabled:bg-gray-400\"\n          >\n            {registerMutation.isPending ? 'Registering...' : 'Register'}\n          </button>\n        </form>\n        \n        <p className=\"text-center mt-4\">\n          Already have an account? <Link to=\"/login\" className=\"text-primary-600 hover:underline\">Login</Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}