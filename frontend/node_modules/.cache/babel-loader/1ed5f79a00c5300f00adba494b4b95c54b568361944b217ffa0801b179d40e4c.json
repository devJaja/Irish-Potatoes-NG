{"ast":null,"code":"import React,{useContext}from'react';import{Navigate,Outlet}from'react-router-dom';import{AuthContext}from'../context/AuthContext';import toast from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=()=>{const authContext=useContext(AuthContext);if(!authContext){// This case should ideally not happen if AuthProvider wraps everything correctly\nconsole.error(\"AuthContext not found! Is AuthProvider missing?\");return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});// Redirect to login if context is somehow missing\n}const{isAuthenticated,loading}=authContext;if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading authentication...\"});// Or a proper loading spinner/component\n}if(!isAuthenticated){toast.error('You need to be logged in to access this page.');return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return/*#__PURE__*/_jsx(Outlet,{});// Render the child routes\n};export default ProtectedRoute;","map":{"version":3,"names":["React","useContext","Navigate","Outlet","AuthContext","toast","jsx","_jsx","ProtectedRoute","authContext","console","error","to","replace","isAuthenticated","loading","children"],"sources":["/home/jaja/Desktop/irish-potatoes/frontend/src/components/ProtectedRoute.tsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Navigate, Outlet } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport toast from 'react-hot-toast';\n\ninterface ProtectedRouteProps {\n  // Add any specific roles or conditions if needed later\n}\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = () => {\n  const authContext = useContext(AuthContext);\n\n  if (!authContext) {\n    // This case should ideally not happen if AuthProvider wraps everything correctly\n    console.error(\"AuthContext not found! Is AuthProvider missing?\");\n    return <Navigate to=\"/login\" replace />; // Redirect to login if context is somehow missing\n  }\n\n  const { isAuthenticated, loading } = authContext;\n\n  if (loading) {\n    return <div>Loading authentication...</div>; // Or a proper loading spinner/component\n  }\n\n  if (!isAuthenticated) {\n    toast.error('You need to be logged in to access this page.');\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return <Outlet />; // Render the child routes\n};\n\nexport default ProtectedRoute;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,QAAQ,CAAEC,MAAM,KAAQ,kBAAkB,CACnD,OAASC,WAAW,KAAQ,wBAAwB,CACpD,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAMpC,KAAM,CAAAC,cAA6C,CAAGA,CAAA,GAAM,CAC1D,KAAM,CAAAC,WAAW,CAAGR,UAAU,CAACG,WAAW,CAAC,CAE3C,GAAI,CAACK,WAAW,CAAE,CAChB;AACAC,OAAO,CAACC,KAAK,CAAC,iDAAiD,CAAC,CAChE,mBAAOJ,IAAA,CAACL,QAAQ,EAACU,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CAAE;AAC3C,CAEA,KAAM,CAAEC,eAAe,CAAEC,OAAQ,CAAC,CAAGN,WAAW,CAEhD,GAAIM,OAAO,CAAE,CACX,mBAAOR,IAAA,QAAAS,QAAA,CAAK,2BAAyB,CAAK,CAAC,CAAE;AAC/C,CAEA,GAAI,CAACF,eAAe,CAAE,CACpBT,KAAK,CAACM,KAAK,CAAC,+CAA+C,CAAC,CAC5D,mBAAOJ,IAAA,CAACL,QAAQ,EAACU,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA,mBAAON,IAAA,CAACJ,MAAM,GAAE,CAAC,CAAE;AACrB,CAAC,CAED,cAAe,CAAAK,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}